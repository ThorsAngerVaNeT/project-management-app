<nz-header>
  <div class="header__left-group">
    <div class="header__logo">
      <a [routerLink]="['/boards']">
        <img src="assets/images/ngpma.png" alt="ngPMA logo" />
        ngPMA
      </a>
    </div>
  </div>

  <ng-container *ngIf="user$ | async as user">
    <app-search class="header__search-field" *ngIf="user._id"></app-search>

    <!-- burger -->

    <div class="burger__toggler">
      <span (click)="burgerToggle()" for="burger__id" id="burger__icon"><span nz-icon nzType="menu"></span></span>

      <div class="burger__menu" *ngIf="burgerVisible">
        <ng-container *ngIf="user._id">
          <div class="burger__controls">
            <nz-radio-group class="header__lang-switch" nzSize="small">
              <label nz-radio-button nzValue="RU">RU</label>
              <label nz-radio-button nzValue="EN">EN</label>
            </nz-radio-group>

            <app-search></app-search>

            <a class="header__user-menu" i18n="@@AddNewBoard" (click)="showModal()">
              <span nz-icon nzType="plus"></span> Add New Board
            </a>
          </div>

          <a i18n="@@editProfile" [routerLink]="['/auth/sign-up']">Edit Profile</a>
          <a i18n="@@logOut" (click)="signOut()">Log Out</a>
        </ng-container>

        <ng-container *ngIf="!user._id" class="header__welcome_actions">
          <a [routerLink]="['/auth/sign-up']" i18n="@@sighUpLink">Sign Up</a>
          <a [routerLink]="['/auth/login']" i18n="@@logInLink">Login</a>
        </ng-container>
      </div>
    </div>

    <!-- / burger -->

    <div class="header__right-group-wrapper">
      <div class="header__right-group" *ngIf="user._id">
        <a class="header__user-menu" i18n="@@AddNewBoard" (click)="showModal()">
          <span nz-icon nzType="plus"></span> Add New Board
        </a>

        <nz-radio-group class="header__lang-switch" nzSize="small">
          <label nz-radio-button nzValue="RU">RU</label>
          <label nz-radio-button nzValue="EN">EN</label>
        </nz-radio-group>

        <a nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu" class="header__user-menu">
          <span class="header__user-name">{{ user.name }}</span>
          <span nz-icon nzType="down"></span>
        </a>
        <nz-dropdown-menu #menu="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item i18n="@@editProfile" [routerLink]="['/auth/sign-up']">Edit Profile</li>
            <li nz-menu-item i18n="@@logOut" (click)="signOut()">Log Out</li>
          </ul>
        </nz-dropdown-menu>
      </div>

      <div class="header__welcome_actions" *ngIf="!user._id">
        <span [routerLink]="['/auth/sign-up']" i18n="@@sighUpLink">Sign Up</span>
        <span [routerLink]="['/auth/login']" i18n="@@logInLink">Login</span>
      </div>
    </div>
  </ng-container>
</nz-header>
